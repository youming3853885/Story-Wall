<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¬è©¦ä¸Šå‚³å–®ç­†è³‡æ–™</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .test-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            text-align: center;
            backdrop-filter: blur(10px);
            color: white;
        }
        
        .test-info {
            background: rgba(255, 255, 255, 0.9);
            margin: 2rem;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .fix-info {
            background: #e8f5e8;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #4CAF50;
        }
        
        .test-button {
            background: linear-gradient(135deg, #4CAF50, #66BB6A);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .event-log {
            background: #f5f5f5;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: monospace;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
        }
        
        .log-entry {
            padding: 0.25rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .log-entry.success {
            color: #4CAF50;
        }
        
        .log-entry.error {
            color: #f44336;
        }
        
        .log-entry.warning {
            color: #ff9800;
        }
        
        .counter {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2196F3;
            text-align: center;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ğŸ” ä¸Šå‚³åŠŸèƒ½æ¸¬è©¦</h1>
        <p>é©—è­‰ä¸Šå‚³å¤±ç‰©åŠŸèƒ½æ˜¯å¦åªæœƒæ–°å¢ä¸€ç­†è³‡æ–™</p>
    </div>
    
    <div class="test-info">
        <h3>ğŸ› å•é¡Œæè¿°</h3>
        <p>ç”¨æˆ¶å›å ±ä¸Šå‚³å¤±ç‰©åŠŸèƒ½æ¯æ¬¡æœƒæ–°å¢å…©ç­†ç›¸åŒçš„è³‡æ–™åˆ°è³‡æ–™åº«ä¸­ã€‚</p>
        
        <h3>ğŸ”§ ä¿®å¾©å…§å®¹</h3>
        <div class="fix-info">
            <strong>âœ… å·²ç§»é™¤é‡è¤‡äº‹ä»¶ç¶å®šï¼š</strong><br>
            â€¢ ç§»é™¤äº† HTML ä¸­çš„ <code>onclick="generateAndSaveItem()"</code> å±¬æ€§<br>
            â€¢ ä¿ç•™ JavaScript ä¸­çš„ <code>addEventListener</code> ç¶å®š<br>
            â€¢ é¿å…äº†é›™é‡è§¸ç™¼å°è‡´çš„é‡è¤‡è³‡æ–™æ–°å¢
        </div>
        
        <h3>ğŸ§ª æ¸¬è©¦æ–¹æ³•</h3>
        <p>é»æ“Šä¸‹æ–¹çš„æ¸¬è©¦æŒ‰éˆ•ï¼Œè§€å¯Ÿäº‹ä»¶è§¸ç™¼æ¬¡æ•¸å’Œæ—¥èªŒè¼¸å‡ºã€‚æ­£å¸¸æƒ…æ³ä¸‹ï¼Œæ¯æ¬¡é»æ“Šæ‡‰è©²åªè§¸ç™¼ä¸€æ¬¡å‡½æ•¸åŸ·è¡Œã€‚</p>
        
        <div class="counter">
            è§¸ç™¼æ¬¡æ•¸: <span id="triggerCount">0</span>
        </div>
        
        <div style="text-align: center; margin: 2rem 0;">
            <button id="testButton" class="test-button">
                <svg viewBox="0 0 24 24" width="20" height="20" style="margin-right: 0.5rem;">
                    <path d="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M10,12A1.5,1.5 0 0,1 8.5,10.5A1.5,1.5 0 0,1 10,9A1.5,1.5 0 0,1 11.5,10.5A1.5,1.5 0 0,1 10,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20Z" fill="currentColor"/>
                </svg>
                æ¸¬è©¦ä¸Šå‚³åŠŸèƒ½è§¸ç™¼
            </button>
            <button onclick="clearLog()" class="test-button" style="background: #ff9800;">æ¸…é™¤æ—¥èªŒ</button>
        </div>
        
        <h3>ğŸ“Š äº‹ä»¶æ—¥èªŒ</h3>
        <div id="eventLog" class="event-log">
            <div class="log-entry">ç­‰å¾…æ¸¬è©¦...</div>
        </div>
        
        <h3>ğŸ’¡ ä½¿ç”¨èªªæ˜</h3>
        <div class="fix-info">
            <strong>ä¿®å¾©å¾Œçš„è¡Œç‚ºï¼š</strong><br>
            1. æ¯æ¬¡é»æ“ŠæŒ‰éˆ•æ‡‰è©²åªè§¸ç™¼ä¸€æ¬¡å‡½æ•¸åŸ·è¡Œ<br>
            2. è§¸ç™¼æ¬¡æ•¸è¨ˆæ•¸å™¨æ‡‰è©²æ­£å¸¸éå¢ï¼ˆ+1ï¼‰<br>
            3. ä¸æ‡‰è©²å‡ºç¾é‡è¤‡çš„æ—¥èªŒæ¢ç›®<br>
            4. å¯¦éš›çš„è³‡æ–™åº«æ’å…¥æ“ä½œä¹Ÿæ‡‰è©²åªåŸ·è¡Œä¸€æ¬¡
        </div>
    </div>

    <script>
        let triggerCount = 0;
        
        // æ¨¡æ“¬ generateAndSaveItem å‡½æ•¸çš„è¡Œç‚º
        function testGenerateAndSaveItem() {
            triggerCount++;
            document.getElementById('triggerCount').textContent = triggerCount;
            
            addLogEntry(`ğŸš€ å‡½æ•¸åŸ·è¡Œ #${triggerCount} - ${new Date().toLocaleTimeString()}`, 'success');
            
            // æ¨¡æ“¬å¯¦éš›å‡½æ•¸ä¸­çš„é‚è¼¯
            console.log('ğŸš€ æ¸¬è©¦ï¼šgenerateAndSaveItem å‡½æ•¸è¢«è§¸ç™¼', triggerCount);
            
            // æ¨¡æ“¬ä¸€äº›è™•ç†æ™‚é–“
            setTimeout(() => {
                addLogEntry(`âœ… æ¨¡æ“¬è™•ç†å®Œæˆ #${triggerCount}`, 'success');
            }, 500);
        }
        
        function addLogEntry(message, type = '') {
            const log = document.getElementById('eventLog');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = message;
            
            // å¦‚æœæ˜¯ç¬¬ä¸€å€‹æ¢ç›®ï¼Œæ¸…é™¤é è¨­æ–‡å­—
            if (log.children.length === 1 && log.children[0].textContent === 'ç­‰å¾…æ¸¬è©¦...') {
                log.innerHTML = '';
            }
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        function clearLog() {
            document.getElementById('eventLog').innerHTML = '<div class="log-entry">æ—¥èªŒå·²æ¸…é™¤...</div>';
            triggerCount = 0;
            document.getElementById('triggerCount').textContent = triggerCount;
        }
        
        // è¨­ç½®äº‹ä»¶ç›£è½å™¨ï¼ˆæ¨¡æ“¬ä¿®å¾©å¾Œçš„æ­£ç¢ºç¶å®šæ–¹å¼ï¼‰
        document.addEventListener('DOMContentLoaded', function() {
            const testButton = document.getElementById('testButton');
            
            if (testButton) {
                // æ­£ç¢ºçš„äº‹ä»¶ç¶å®šæ–¹å¼ï¼ˆå–®ä¸€ç¶å®šï¼‰
                testButton.addEventListener('click', testGenerateAndSaveItem);
                addLogEntry('âœ… é é¢è¼‰å…¥å®Œæˆï¼Œäº‹ä»¶ç›£è½å™¨å·²è¨­ç½®', 'success');
                console.log('âœ… æ¸¬è©¦é é¢ï¼šäº‹ä»¶ç›£è½å™¨å·²æ­£ç¢ºè¨­ç½®');
            } else {
                addLogEntry('âŒ æ‰¾ä¸åˆ°æ¸¬è©¦æŒ‰éˆ•å…ƒç´ ', 'error');
            }
        });
    </script>
</body>
</html>
